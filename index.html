<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>Node Editor</title>

  <!-- React + ReactDOM -->
  <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>

  <!-- React Flow -->
  <link
    rel="stylesheet"
    href="https://unpkg.com/reactflow@11/dist/style.css"
  />
  <script src="https://unpkg.com/reactflow@11/dist/reactflow.min.js"></script>

  <style>
    body {
      margin: 0;
      background: #1e1e1e;
    }

    #root {
      width: 100vw;
      height: 100vh;
    }

    .custom-node {
      padding: 10px;
      border-radius: 6px;
      background: #2d2d2d;
      color: white;
      border: 1px solid #444;
      font-size: 14px;
    }
  </style>
</head>
<body>
  <div id="root"></div>

  <script>
    const { useCallback, useState } = React;
    const {
      ReactFlow,
      ReactFlowProvider,
      addEdge,
      Background,
      Controls,
      Handle,
      Position
    } = ReactFlow;

    // Custom Node
    function MathNode() {
      return React.createElement(
        "div",
        { className: "custom-node" },
        "Math Node",

        // Inputs
        React.createElement(Handle, {
          type: "target",
          position: Position.Left,
          id: "a",
          style: { top: 25 }
        }),
        React.createElement(Handle, {
          type: "target",
          position: Position.Left,
          id: "b",
          style: { top: 50 }
        }),

        // Output
        React.createElement(Handle, {
          type: "source",
          position: Position.Right,
          id: "result",
          style: { top: 37 }
        })
      );
    }

    const nodeTypes = { math: MathNode };

    function Flow() {
      const [nodes, setNodes] = useState([
        {
          id: "1",
          type: "math",
          position: { x: 250, y: 150 },
          data: {}
        }
      ]);

      const [edges, setEdges] = useState([]);

      const onConnect = useCallback(
        (params) => setEdges((eds) => addEdge(params, eds)),
        []
      );

      return React.createElement(ReactFlow, {
        nodes,
        edges,
        onConnect,
        nodeTypes,
        fitView: true
      },
        React.createElement(Background),
        React.createElement(Controls)
      );
    }

    function App() {
      return React.createElement(
        ReactFlowProvider,
        null,
        React.createElement(Flow)
      );
    }

    ReactDOM.createRoot(document.getElementById("root")).render(
      React.createElement(App)
    );
  </script>
</body>
</html>
